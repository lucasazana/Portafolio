---
import { CheckCheck } from "@lucide/astro";

interface Props {
  startDate: string;
  endDate: string;
  status: string;
  title: string;
  company: string;
  description: string;
  achievements: string[];
  technologies: string[];
  modality: string;
  location: string;
  dataI18nTitle?: string;
  dataI18nCompany?: string;
  dataI18nLocation?: string;
  dataI18nModality?: string;
  dataI18nStart?: string;
  dataI18nEnd?: string;
  dataI18nStatus?: string;
  dataI18nDesc?: string;
  dataI18nAchievements?: string[];
}

const {
  startDate,
  endDate,
  status,
  title,
  company,
  description,
  achievements,
  technologies,
  modality,
  location,
  dataI18nTitle,
  dataI18nCompany,
  dataI18nLocation,
  dataI18nModality,
  dataI18nStart,
  dataI18nEnd,
  dataI18nStatus,
  dataI18nDesc,
  dataI18nAchievements,
} = Astro.props;
---

<div
  class="rounded-2xl bg-white dark:bg-dark-card/80 border border-gray-200 dark:border-gengar-pastel/30 shadow-lg hover:shadow-gengar-lg p-4 md:p-6 flex flex-col gap-4 max-w-xs md:max-w-xl w-full mx-auto transition-transform duration-300 ease-out hover:-translate-y-2"
>
  <!-- header con fechas y estado -->
  <div
    class="flex flex-col items-start gap-1 mb-2 w-full max-w-xs sm:max-w-full md:max-w-xl mx-auto"
  >
    <div
      class="flex items-center gap-2 text-gray-600 dark:text-dark-subtext text-base font-medium w-full"
    >
      <span data-i18n-start={dataI18nStart}>{startDate}</span>
      <span>-</span>
      <span data-i18n-end={dataI18nEnd}>{endDate}</span>
    </div>
    {
      status && (
        <span
          class="px-4 py-1 rounded-full bg-gengar-pastel/20 text-gengar-primary dark:bg-gengar-pastel/30 dark:text-gengar-pastel text-sm font-semibold select-none mt-1"
          data-i18n-status={dataI18nStatus}
        >
          {status}
        </span>
      )
    }
  </div>
  <!-- contenido de la card -->
  <div
    class="flex flex-col gap-2 flex-1 w-full max-w-xs sm:max-w-full md:max-w-xl mx-auto"
  >
    <h3
      class="text-2xl font-extrabold text-gray-900 dark:text-white leading-tight mb-1"
      data-i18n-title={dataI18nTitle}
    >
      {title}
    </h3>
    <div class="flex items-center gap-2 mb-1">
      <h4
        class="text-lg font-semibold text-gray-700 dark:text-dark-heading"
        data-i18n-company={dataI18nCompany}
      >
        {company}
      </h4>
      <span
        class="text-sm text-gray-500 dark:text-dark-subtext"
        data-i18n-modality={dataI18nModality}>{modality}</span
      >
      {
        location && (
          <span
            class="text-sm text-gray-500 dark:text-dark-subtext"
            data-i18n-location={dataI18nLocation}
          >
            {location}
          </span>
        )
      }
    </div>
    <!-- descripción -->
    <p
      class="text-gray-600 dark:text-dark-subtext text-base font-medium mb-1"
      data-i18n-desc={dataI18nDesc}
    >
      {description}
    </p>
    <!-- logros -->
    {
      achievements && achievements.length > 0 && (
        <ul class="flex flex-col gap-1 mb-2">
          {achievements.map((achievement, i) => (
            <li class="flex items-center gap-2 text-gray-700 dark:text-dark-text text-base">
              <CheckCheck
                size="16"
                class="text-gengar-primary dark:text-gengar-pastel"
              />
              <span
                data-i18n-achievement={
                  dataI18nAchievements ? dataI18nAchievements[i] : undefined
                }
              >
                {achievement}
              </span>
            </li>
          ))}
        </ul>
      )
    }
    <!-- tecnologías -->
    {
      technologies && technologies.length > 0 && (
        <div class="flex flex-wrap gap-2 mt-2">
          {technologies.map((tech) => (
            <span class="px-3 py-1 rounded-full text-sm font-semibold bg-gray-100 dark:bg-dark-bg/40 text-gray-700 dark:text-gray-200 border border-gray-200 dark:border-gengar-pastel/20">
              {tech}
            </span>
          ))}
        </div>
      )
    }
  </div>
</div>
